{% extends "orders/base_order.html" %}

{% load  static %}

{% block panel-content %}
{% include 'message/message.html' %}

<div class="modal-dialog modal-lg" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Generar Pedido</h2>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"> </button>
    </div>
    <div class="modal-body">
      <h5>Ingrese los datos restantes para su pedido</h5>
      <p>Verifique el pedido e indique la fecha y si el cliente a dejado dinero a cuenta</p>
      <div class="row">
        <div class="col-sm-12 col-md-4">
          <div class="form-floating mb-3">
            <input type="" class="form-control" id="floatingPassword" value="{{ total_cobrar }}" disabled>
            <label for="floatingInput">Total: </label>
          </div>
        </div>
        <div class="col-sm-12 col-md-8">
          <div class="row">
            <div class="col-auto">
              <table class="table table-border table-responsive">
                <thead>
                  <tr>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Producto</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Subtotal</th>
                    <th scope="col">Tipo de pan</th>
                  </tr>
                </thead>
                <tbody>
                  {% for producto in productos_car %}
                  <tr>
                    <td>{{ producto.count }}</td>
                    <td>{{ producto.product.product.name }}</td>
                    <td>{{ producto.price|floatformat:2 }}</td>
                    <td>{{ producto.sub_total|floatformat:2}}</td>
                    <td>{{ producto.select_product }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
             </div>
          </div>
        </div>
      </div>
      <div class="row" style="padding-bottom:1rem;">
        <!--SELECCION DE HORA-->
        <div class="col-sm-2 col-md-2">
          <!-- Large button groups (default and split) -->
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Hora
            </button>
            <ul class="dropdown-menu dropdown-menu text-center" style="width:7rem;" >
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >01</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >02</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >03</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >04</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >05</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >06</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >07</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >08</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >09</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >10</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >11</button></li>
              <li><button type="button" name="hora" class="btn btn-outline-success" style="height:3rem; width:7rem;" >12</button></li>
            </ul>
          </div>

        </div>
        <div class="col-sm-2 col-md-2">
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Minutos
            </button>
            <ul class="dropdown-menu dropdown-menu text-center" style="width:7rem;" >
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >00</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >05</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >15</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >20</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >25</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >30</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >35</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >40</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >45</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >50</button></li>
              <li><button type="button" name="min" class="btn btn-outline-success" style="height:3rem; width:7rem;" >55</button></li>
            </ul>
          </div>
        </div>
        <div class="col-sm-12 col-md-2">
            <div class="btn-group-vertical" role="group" aria-label="Vertical button group" style="width:7rem">
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Selecciona
                </button>
                <ul class="dropdown-menu dropdown-menu text-center" style="width:7rem;" >
                  <li><button type="button" name="mv" class="btn btn-outline-danger" style="height:3rem">a.m</button></li>
                  <li><button type="button" name="mv" class="btn btn-outline-danger" style="height:3rem">p.m</button></li>
                </ul>
              </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-3">
          <div class="d-grid gap-2">
            <button class="btn btn-warning" name="matutino" type="button">Mañana</button>
          </div>
        </div>
        <div class="col-sm-12 col-md-3">
          <div class="d-grid gap-2">
            <button class="btn btn-info" name="vespertino" type="button">Tarde</button>
          </div>
        </div>

      </div>
            <div class="row">
                <div class="col-sm-12 col-md-6 text-center">
                </div>
                <div class="col-sm-12 col-md-6 text-center">
                  <b>Para el día siguiente:</b>
                </div>
        
              </div>
              <div class="row" style="padding-bottom:1rem;">
                <div class="col-sm-12 col-md-3">
        
                </div>
                <div class="col-sm-12 col-md-3">
        
                </div>
                <div class="col-sm-12 col-md-3">
                  <div class="d-grid gap-2">
                    <button class="btn btn-outline-warning" name="matutino-next" type="button">Mañana</button>
                  </div>
                </div>
                <div class="col-sm-12 col-md-3">
                  <div class="d-grid gap-2">
                    <button class="btn btn-outline-info" name="vespertino-next" type="button">Tarde</button>
                  </div>
                </div>
          </div>
      <form class="input-group"  method="POST">{% csrf_token %}
        <div class="row">
          <div class="col-sm-12 col-md-3">
            <div class="form-floating mb-3">
              {{ form.pay_ammount }}
              <label for="floatingInput">A cuenta: </label>
              {{ form.pay_ammount.errors }}
            </div>
          </div>
          <div class="col-sm-12 col-md-3">
              <div class="form-floating mb-3">
                {{ form.date_order }}
                <label for="floatingInput">Fecha: </label>
                {{ form.date_order.errors }}

              </div>
          </div>
          <div class="col-sm-12 col-md-3">
            <div class="form-floating mb-3">
              {{ form.hour_order }}
              <label for="floatingInput">Hora: </label>
              {{ form.hour_order.errors }}

            </div>
          </div>
          <div class="col-sm-12 col-md-3">
            <div class="form-floating mb-3">
              <select name="{{ form.ruta.name }}"class="form-select" aria-label="Default select example">
                {% for ruta in Rutas %}
                <option value="{{ ruta.driver }}">{{ ruta.ruta_name }}</option>
                {% endfor %}
              </select>
            </div>
          </div>
          <div class="col-sm-12 col-md-12">
                <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary" style="padding: 1.5em;  height:4em;">
                  <i class="fi-credit-card"></i>
                  <span>Generar</span>
                </button>
                </div>
          </div>

        <!--  <div class="col-sm-12 col-md-12" style="margin-top:1rem;">
                <div class="d-grid gap-2">
                <button type="submit" class="btn btn-success" style="padding: 1.5em;  height:4em;">
                  <i class="fi-credit-card"></i>
                  <span>Generar y pagar</span>
                </button>
                </div>
          </div>-->
        </div>
      </form>
    </div>
    <div class="row" style="padding-top:1em;">
      <div class="col-sm-12 col-md-6">
        <div class="row p-1">
          <div class="col-12 text-center" style="">
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_1" style="font-size: 2.5rem; width:4.5rem;">1</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_2" style="font-size: 2.5rem; width:4.5rem;">2</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_3" style="font-size: 2.5rem; width:4.5rem;">3</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-delete" class="btn btn-danger" id="btn_C" style="font-size: 2.5rem; width:4.5rem;">C</button>
            </div>
          </div>
        </div>
        <div class="row p-1">
          <div class="col-12 text-center">
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_4" style="font-size: 2.5rem; width:4.5rem;">4</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_5" style="font-size: 2.5rem; width:4.5rem;">5</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_6" style="font-size: 2.5rem; width:4.5rem;">6</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_p" style="font-size: 2.5rem; width:4.5rem;">.</button>
            </div>
          </div>
        </div>
        <div class="row p-1">
          <div class="col-12 text-center">
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_7" style="font-size: 2.5rem; width:4.5rem;">7</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_8" style="font-size: 2.5rem; width:4.5rem;">8</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_9" style="font-size: 2.5rem; width:4.5rem;">9</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" name="data-number" class="btn btn-primary" id="btn_0" style="font-size: 2.5rem; width:4.5rem;">0</button>
            </div>
          </div>
        </div>
        <div class="row p-1">
          <div class="col-12 text-center">
            <button type="button" class="btn btn-primary" onclick="mandarDatosOrder()" name="button-send" style="font-size: 2.5rem; width:19rem; height:4.5rem;">Agregar</button>
          </div>
        </div>
        </div>
    </div>
  </div>
</div>
<script src="{% static 'js/bootstrap5.2/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/bootstrap5.2/js/bootstrapV2.min.js' %}"></script>

<script src="{% static 'js/modal-order.js' %}"></script>


{% endblock panel-content %}
